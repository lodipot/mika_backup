<!doctype html>
<html lang="ja" xml:lang="ja">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="pragma" content="no-cache">
    <meta http-equiv="cache-control" content="no-cache">
    <meta http-equiv="expires" content="-1">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1, maximum-scale=1, minimal-ui">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="stylesheet" href='https://lodipot.github.io/mika_backup/gallery/css/pex.css' media="all">
    <script src='https://lodipot.github.io/mika_backup/gallery/js/jquery-1.9.1.min.js'></script>
    <script src='https://lodipot.github.io/mika_backup/gallery/js/pex-1.2.0.js'></script>
    <script src='https://lodipot.github.io/mika_backup/gallery/js/pex_common.js'></script>
    <script>
        $(document).ready(function() {
            if (typeof newrelic === 'object' && typeof newrelic.setPageViewName === 'function') {
                newrelic.setPageViewName('/idolmaster/index.php/smart_phone_flash/convert/idol_storySsSsflashSsSs18SsSs4SsSs1SsSsidol_gallery--idol_detail--990d4c7b388f9a05cbb860b1a385a2cc--2SsSs1/0/0/0/1/1/1/0/0');
            }
        });
    </script>
    <title>ｱｲﾄﾞﾙﾏｽﾀｰ ｼﾝﾃﾞﾚﾗｶﾞｰﾙｽﾞ </title>
    <style>
        #container {
            position: relative;
        }

        #voiceTouch {
            display: block;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 100;
            width: 100%;
            height: 150%;
            -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
        }

        .switchBt {
            display: block;
            position: absolute;
            z-index: 200;
        }

        .selectSwitchBt {
            display: block;
            position: absolute;
            z-index: 210;
        }

        .scrollBt {
            display: block;
            position: absolute;
            z-index: 200;
        }
    </style>
    <style>
        #mbga-pf-footer {
            display: none;
        }
    </style>
        <script>
            function Request(){
                var requestParam = "";
                this.getParameter = function(param){
                    var url = unescape(location.href);
                    var paramArr = (url.substring(url.indexOf("?")+1, url.length)).split("&");
                    for(var i = 0; i < paramArr.length; i++){
                        var temp = paramArr[i].split("=");
                        if(temp[0].toUpperCase() == param.toUpperCase()){
                            requestParam = paramArr[i].split("=")[1];
                            break;
                        }
                    }
                    return requestParam;
                };
            }
			function swf_url(){
                var org_url = "https://lodipot.github.io/mika_backup/album/mika_album/lovemax/16_lovemax";
				if (request.getParameter("psign") == 1){
					swf_addr = org_url + "_p.swf";
				}
				else{
					swf_addr = org_url + ".swf";
				}
				return swf_addr;
            }
            var request = new Request();
            var isTouch = ('ontouchstart'in window);
            var isSp = false;
            if (isTouch === false)
                isSp = false;
            else if (window.orientation === undefined)
                isSp = false;
            else
                isSp = true;
            displayScaleValue = scaleSizeCheck();
            var width = 240 * displayScaleValue * 2;
            marginLeft = widthMarginCheck(displayScaleValue);
            marginTop = topMarginCheck(displayScaleValue);
            function setScrollTop() {
                if (document.documentElement) {
                    document.documentElement.scrollTop = 0;
                }
                if (document.body) {
                    document.body.scrollTop = 0
                }
            }
            window.addEventListener("DOMContentLoaded", function() {
                no_scroll();
                function no_scroll() {
                    var scroll_event = 'onwheel'in document ? 'wheel' : 'onmousewheel'in document ? 'mousewheel' : 'DOMMouseScroll';
                    document.addEventListener(scroll_event, function(e) {
                        e.preventDefault()
                    }, {
                        passive: false
                    });
                    document.addEventListener('touchstart', function(e) {
                        setScrollTop()
                    }, {
                        passive: false
                    });
                    document.addEventListener('touchend', function(e) {
                        setScrollTop()
                    }, {
                        passive: false
                    });
                    document.addEventListener('touchmove', function(e) {
                        setScrollTop();
                        e.preventDefault()
                    }, {
                        passive: false
                    });
                }
            });
            window.onunload = function() {}
            ;
            window.onload = function() {
                var option = {
                    enableButton: true,
                    enableTouch: true,
                    delayEval: false,
                    operation: {
                        lighter_tgt: "lighter"
                    },
                    width: width
                };
                var container = document.getElementById("container");
                container.setAttribute("style", "margin-left:" + (marginLeft) + "px");
                container.style.marginTop = (marginTop) + "px";
                container.style.zoom = "50%";
                container.style.height = (window.outerHeight * 2 - marginTop) + "px";
                option['frameCallback'] = {
                    '/': {
                        'label1': function() {
                            se_play('se_035');
                        },
                        'label2': function() {
                            se_play('se_036');
                        },
                        'label3': function() {
                            se_play('se_037_2');
                        },
                        'label4': function() {
                            se_play('se_037_3');
                        },
                    },
                };
                var pex = new Pex(swf_url(),"container",option);
                pex.getAPI().ready(function() {
                    setScrollTop();
                });
                var pexApi = pex.getAPI();
                window.pexApi = pexApi;
                (function($) {
                    $.fn.pexConsole = function() {
                        if (globalNextLabel) {
                            pexApi.gotoFrame('/', sceneLabel);
                            globalNextLabel = 0;
                        }
                    }
                    ;
                    $.fn.pexBtacquisition = function(mcName) {
                        var obj = {
                            x: pexApi.getVariable(mcName, 'w'),
                            y: pexApi.getVariable(mcName, 'h'),
                            poX: pexApi.getVariable(mcName, 'x'),
                            poY: pexApi.getVariable(mcName, 'y'),
                            label: pexApi.getVariable(mcName, 'scene'),
                            voicePath: pexApi.getVariable(mcName, 'voicePath')
                        };
                        return [obj.x, obj.y, obj.poX, obj.poY, obj.label, obj.voicePath];
                    }
                    ;
                    $.fn.pexGotoFrame = function(mcName, palam) {
                        pexApi.gotoFrame(mcName, palam);
                    }
                    ;
                    $.fn.pexCallActions = function(label) {
                        pexApi.callActions('/', label);
                    }
                    ;
                    $.fn.pexSetVaris = function(name, h) {
                        pexApi.setVariable(name, 'touched_x', h.x);
                        pexApi.setVariable(name, 'touched_y', h.y);
                    }
                    ;
                }
                )(jQuery);
                timerId = setTimeout("isFlash()", 60000);
            }
            ;
            function touchHandler(event) {
                event.preventDefault();
            }
            ;function redirect() {
                location.reload();
            }
            ;function isFlash() {
                var container = document.getElementById("container");
                var children = container.childNodes;
                if (children.length < 1) {
                    redirect();
                } else {
                    clearTimeout(timerId);
                }
            }
            ;function scaleSizeCheck() {
                window.scrollTo(0, 1);
                myW = window.innerWidth;
                myH = window.innerHeight;
                scaleWidth = myW / 240;
                scaleHeight = myH / 320;
                if (myH > myW) {
                    myS = scaleWidth;
                } else {
                    myS = scaleHeight;
                }
                return myS;
            }
            ;function widthMarginCheck(scale) {
                if (scale < 0) {
                    return 0;
                }
                baseW = 240;
                myW = window.innerWidth;
                size = baseW * scale;
                if ((myW - size) < 5) {
                    marginL = 0;
                } else {
                    marginL = Math.round((myW - size) / 2);
                }
                return marginL * 2;
            }
            function topMarginCheck(scale) {
                if (scale < 0) {
                    return 0;
                }
                baseH = 320;
                myH = window.innerHeight;
                size = baseH * scale;
                if ((myH - size) < 5) {
                    marginT = 0;
                } else {
                    marginT = Math.round((myH - size) / 2);
                }
                return marginT * 2;
            }
            function getFlashPlayerVersion() {
                var vsn = '';
                if (navigator.plugins["Shockwave Flash"] && navigator.mimeTypes.length) {
                    var tmp = navigator.plugins["Shockwave Flash"].description.match(/([0-9]+)/);
                    vsn = tmp[0];
                } else {
                    try {
                        var tmp = new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").match(/([0-9]+)/);
                        vsn = tmp[0];
                    } catch (e) {}
                }
                return vsn;
            }
            var skipNextUrl;
            function skipBtnGenerate(url) {}
            function SkipBtnDown(e) {
                var scale = scaleSizeCheck();
                var width_margin = widthMarginCheck(scale);
                var top_margin = topMarginCheck(scale);
                var client_width = window.innerWidth;
                var client_height = window.innerHeight;
                var click_x = e.clientX;
                var click_y = e.clientY;
                var swf_width = client_width - width_margin;
                var swf_height = 320 * scale;
                var btn_x = (width_margin / 2) + ((swf_width * 2) / 3);
                var btn_width = swf_width / 3;
                var btn_y = top_margin / 2;
                var btn_height = swf_height / 12;
                if (btn_x < click_x && click_x < (btn_x + btn_width) && btn_y < click_y && click_y < (btn_y + btn_height)) {
                    document.location = skipNextUrl;
                }
            }
            function call_select_item(play_scene, select_num) {
                var use_item, max_use_flag;
                switch (select_num) {
                case "1":
                    use_item = 0;
                    max_use_flag = 0;
                    break;
                case "2":
                    use_item = 3;
                    max_use_flag = 0;
                    break;
                case "3":
                    use_item = 3;
                    max_use_flag = 1;
                    break;
                case "4":
                    use_item = 1;
                    max_use_flag = 0;
                    break;
                default:
                    break;
                }
            }
            function nextJump(url) {
                location.href = url;
            }
        </script>
        <script type='text/javascript'>
            var se_flg = 0
              , bgm_flg = 0
              , chrome_app_flg = 0
              , chrome_app_extension_id = 'dnacabmnfmejgfffmcehejcmiciinpej';
        </script>
        <script type='text/javascript' src='https://lodipot.github.io/mika_backup/gallery/js/app_sound.js'></script>
        <link rel="stylesheet" type="text/css" href="https://lodipot.github.io/mika_backup/gallery/css/base.css"/>
    </head>
    <body style="height:100%">
        <div id="container"></div>
    </body>
</html>
